R 0
C 0
current map[]
R 1
C 0
current map[[0 0]:true]
return 0
R -1
C 0
current map[[0 0]:true]
return 0
R 0
C 1
current map[[0 0]:true]
R 1
C 1
current map[[0 0]:true [0 1]:true]
return 0
R -1
C 1
current map[[0 0]:true [0 1]:true]
return 0
R 0
C 2
current map[[0 0]:true [0 1]:true]
R 1
C 2
current map[[0 0]:true [0 1]:true [0 2]:true]
R 2
C 2
current map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true]
R 3
C 2
current map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true [2 2]:true]
R 4
C 2
current map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true [2 2]:true [3 2]:true]
return 0
R 2
C 2
current map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true [2 2]:true [3 2]:true]
return 0
R 3
C 3
current map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true [2 2]:true [3 2]:true]
return 0
R 3
C 1
current map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true [2 2]:true [3 2]:true]
return 0
deleted map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true [2 2]:true]
R 1
C 2
current map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true [2 2]:true]
return 0
R 2
C 3
current map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true [2 2]:true]
return 0
R 2
C 1
current map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true [2 2]:true]
R 3
C 1
current map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true [2 1]:true [2 2]:true]
return 0
R 1
C 1
current map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true [2 1]:true [2 2]:true]
return 0
R 2
C 2
current map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true [2 1]:true [2 2]:true]
return 0
R 2
C 0
current map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true [2 1]:true [2 2]:true]
R 3
C 0
current map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true [2 0]:true [2 1]:true [2 2]:true]
R 4
C 0
current map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true [2 0]:true [2 1]:true [2 2]:true [3 0]:true]
return 0
R 2
C 0
current map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true [2 0]:true [2 1]:true [2 2]:true [3 0]:true]
return 0
R 3
C 1
current map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true [2 0]:true [2 1]:true [2 2]:true [3 0]:true]
return 0
R 3
C -1
current map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true [2 0]:true [2 1]:true [2 2]:true [3 0]:true]
return 0
deleted map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true [2 0]:true [2 1]:true [2 2]:true]
R 1
C 0
current map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true [2 0]:true [2 1]:true [2 2]:true]
return 0
R 2
C 1
current map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true [2 0]:true [2 1]:true [2 2]:true]
return 0
R 2
C -1
current map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true [2 0]:true [2 1]:true [2 2]:true]
return 0
deleted map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true [2 1]:true [2 2]:true]
deleted map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true [2 2]:true]
deleted map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true]
R 0
C 2
current map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true]
return 0
R 1
C 3
current map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true]
R 2
C 3
current map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true [1 3]:true]
return 0
R 0
C 3
current map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true [1 3]:true]
R 1
C 3
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true]
return 0
R -1
C 3
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true]
return 0
R 0
C 4
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true]
return 0
R 0
C 2
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true]
return 0
deleted map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true [1 3]:true]
R 1
C 4
current map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true [1 3]:true]
return 0
R 1
C 2
current map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true [1 3]:true]
return 0
deleted map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true]
R 1
C 1
current map[[0 0]:true [0 1]:true [0 2]:true [1 2]:true]
return 0
deleted map[[0 0]:true [0 1]:true [0 2]:true]
R -1
C 2
current map[[0 0]:true [0 1]:true [0 2]:true]
return 0
R 0
C 3
current map[[0 0]:true [0 1]:true [0 2]:true]
R 1
C 3
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true]
R 2
C 3
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 3]:true]
return 0
R 0
C 3
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 3]:true]
return 0
R 1
C 4
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 3]:true]
return 0
R 1
C 2
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 3]:true]
R 2
C 2
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true]
R 3
C 2
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true [2 2]:true]
R 4
C 2
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true [2 2]:true [3 2]:true]
return 0
R 2
C 2
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true [2 2]:true [3 2]:true]
return 0
R 3
C 3
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true [2 2]:true [3 2]:true]
return 0
R 3
C 1
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true [2 2]:true [3 2]:true]
return 0
deleted map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true [2 2]:true]
R 1
C 2
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true [2 2]:true]
return 0
R 2
C 3
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true [2 2]:true]
return 0
R 2
C 1
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true [2 2]:true]
R 3
C 1
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true [2 1]:true [2 2]:true]
return 0
R 1
C 1
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true [2 1]:true [2 2]:true]
return 0
R 2
C 2
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true [2 1]:true [2 2]:true]
return 0
R 2
C 0
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true [2 1]:true [2 2]:true]
R 3
C 0
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true [2 0]:true [2 1]:true [2 2]:true]
R 4
C 0
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true [2 0]:true [2 1]:true [2 2]:true [3 0]:true]
return 0
R 2
C 0
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true [2 0]:true [2 1]:true [2 2]:true [3 0]:true]
return 0
R 3
C 1
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true [2 0]:true [2 1]:true [2 2]:true [3 0]:true]
return 0
R 3
C -1
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true [2 0]:true [2 1]:true [2 2]:true [3 0]:true]
return 0
deleted map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true [2 0]:true [2 1]:true [2 2]:true]
R 1
C 0
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true [2 0]:true [2 1]:true [2 2]:true]
return 0
R 2
C 1
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true [2 0]:true [2 1]:true [2 2]:true]
return 0
R 2
C -1
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true [2 0]:true [2 1]:true [2 2]:true]
return 0
deleted map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true [2 1]:true [2 2]:true]
deleted map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true [2 2]:true]
deleted map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true]
R 0
C 2
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true]
return 0
R 1
C 3
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true]
return 0
R 1
C 1
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 2]:true [1 3]:true]
return 0
deleted map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true [1 3]:true]
deleted map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true]
R -1
C 3
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true]
return 0
R 0
C 4
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true]
return 0
R 0
C 2
current map[[0 0]:true [0 1]:true [0 2]:true [0 3]:true]
return 0
deleted map[[0 0]:true [0 1]:true [0 2]:true]
R 0
C 1
current map[[0 0]:true [0 1]:true [0 2]:true]
return 0
deleted map[[0 0]:true [0 1]:true]
R 0
C 0
current map[[0 0]:true [0 1]:true]
return 0
deleted map[[0 0]:true]
R 0
C -1
current map[[0 0]:true]
return 0
deleted map[]
Number of paths: 2

package main

import "fmt"

func dfs(R, C, ROWS, COLS int, visited map[[2]int]bool, grid [][]int) int {
	fmt.Println("R", R)
	fmt.Println("C", C)
	if R < 0 || C < 0 || R >= ROWS || C >= COLS || visited[[2]int{R, C}] || grid[R][C] == 1 {
		fmt.Println("return 0")
		return 0
	}
	if R == ROWS-1 && C == COLS-1 {
		fmt.Println("return 1")
		return 1
	}

	visited[[2]int{R, C}] = true

	count := 0
	count += dfs(R+1, C, ROWS, COLS, visited, grid)
	count += dfs(R-1, C, ROWS, COLS, visited, grid)
	count += dfs(R, C+1, ROWS, COLS, visited, grid)
	count += dfs(R, C-1, ROWS, COLS, visited, grid)

	delete(visited, [2]int{R, C})
	return count
}

func countPaths(grid [][]int) int {
	ROWS, COLS := len(grid), len(grid[0])
	visited := make(map[[2]int]bool)
	return dfs(0, 0, ROWS, COLS, visited, grid)
}

func main() {
	grid := [][]int{
		{0, 0, 0, 0},
		{1, 1, 0, 0},
		{0, 0, 0, 1},
		{0, 1, 0, 0},
	}

	fmt.Println("Number of paths:", countPaths(grid))
}
