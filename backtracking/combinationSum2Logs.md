## With Duplicates

idx 0
curSum 0
curSet &[]
curSetAdd &[1]
idx 1
curSum 1
curSet &[1]
curSetAdd &[1 1]
idx 2
curSum 2
curSet &[1 1]
curSetAdd &[1 1 2]
idx 3
curSum 4
curSet &[1 1 2]
curSetAdd &[1 1 2 5]
idx 4
curSum 9
curSet &[1 1 2 5]
i 3
curSetRemove &[1 1 2]
curSetAdd &[1 1 2 6]
idx 5
curSum 10
curSet &[1 1 2 6]
i 4
curSetRemove &[1 1 2]
curSetAdd &[1 1 2 7]
idx 6
curSum 11
curSet &[1 1 2 7]
i 5
curSetRemove &[1 1 2]
curSetAdd &[1 1 2 10]
idx 7
curSum 14
curSet &[1 1 2 10]
i 6
curSetRemove &[1 1 2]
i 2
curSetRemove &[1 1]
curSetAdd &[1 1 5]
idx 4
curSum 7
curSet &[1 1 5]
curSetAdd &[1 1 5 6]
idx 5
curSum 13
curSet &[1 1 5 6]
i 4
curSetRemove &[1 1 5]
curSetAdd &[1 1 5 7]
idx 6
curSum 14
curSet &[1 1 5 7]
i 5
curSetRemove &[1 1 5]
curSetAdd &[1 1 5 10]
idx 7
curSum 17
curSet &[1 1 5 10]
i 6
curSetRemove &[1 1 5]
i 3
curSetRemove &[1 1]
curSetAdd &[1 1 6]
idx 5
curSum 8
curSet &[1 1 6]
subsets &[[1 1 6]]
i 4
curSetRemove &[1 1]
curSetAdd &[1 1 7]
idx 6
curSum 9
curSet &[1 1 7]
i 5
curSetRemove &[1 1]
curSetAdd &[1 1 10]
idx 7
curSum 12
curSet &[1 1 10]
i 6
curSetRemove &[1 1]
i 1
curSetRemove &[1]
curSetAdd &[1 2]
idx 3
curSum 3
curSet &[1 2]
curSetAdd &[1 2 5]
idx 4
curSum 8
curSet &[1 2 5]
subsets &[[1 1 6] [1 2 5]]
i 3
curSetRemove &[1 2]
curSetAdd &[1 2 6]
idx 5
curSum 9
curSet &[1 2 6]
i 4
curSetRemove &[1 2]
curSetAdd &[1 2 7]
idx 6
curSum 10
curSet &[1 2 7]
i 5
curSetRemove &[1 2]
curSetAdd &[1 2 10]
idx 7
curSum 13
curSet &[1 2 10]
i 6
curSetRemove &[1 2]
i 2
curSetRemove &[1]
curSetAdd &[1 5]
idx 4
curSum 6
curSet &[1 5]
curSetAdd &[1 5 6]
idx 5
curSum 12
curSet &[1 5 6]
i 4
curSetRemove &[1 5]
curSetAdd &[1 5 7]
idx 6
curSum 13
curSet &[1 5 7]
i 5
curSetRemove &[1 5]
curSetAdd &[1 5 10]
idx 7
curSum 16
curSet &[1 5 10]
i 6
curSetRemove &[1 5]
i 3
curSetRemove &[1]
curSetAdd &[1 6]
idx 5
curSum 7
curSet &[1 6]
curSetAdd &[1 6 7]
idx 6
curSum 14
curSet &[1 6 7]
i 5
curSetRemove &[1 6]
curSetAdd &[1 6 10]
idx 7
curSum 17
curSet &[1 6 10]
i 6
curSetRemove &[1 6]
i 4
curSetRemove &[1]
curSetAdd &[1 7]
idx 6
curSum 8
curSet &[1 7]
subsets &[[1 1 6] [1 2 5] [1 7]]
i 5
curSetRemove &[1]
curSetAdd &[1 10]
idx 7
curSum 11
curSet &[1 10]
i 6
curSetRemove &[1]
i 0
curSetRemove &[]
curSetAdd &[1]
idx 2
curSum 1
curSet &[1]
curSetAdd &[1 2]
idx 3
curSum 3
curSet &[1 2]
curSetAdd &[1 2 5]
idx 4
curSum 8
curSet &[1 2 5]
subsets &[[1 1 6] [1 2 5] [1 7] [1 2 5]]
i 3
curSetRemove &[1 2]
curSetAdd &[1 2 6]
idx 5
curSum 9
curSet &[1 2 6]
i 4
curSetRemove &[1 2]
curSetAdd &[1 2 7]
idx 6
curSum 10
curSet &[1 2 7]
i 5
curSetRemove &[1 2]
curSetAdd &[1 2 10]
idx 7
curSum 13
curSet &[1 2 10]
i 6
curSetRemove &[1 2]
i 2
curSetRemove &[1]
curSetAdd &[1 5]
idx 4
curSum 6
curSet &[1 5]
curSetAdd &[1 5 6]
idx 5
curSum 12
curSet &[1 5 6]
i 4
curSetRemove &[1 5]
curSetAdd &[1 5 7]
idx 6
curSum 13
curSet &[1 5 7]
i 5
curSetRemove &[1 5]
curSetAdd &[1 5 10]
idx 7
curSum 16
curSet &[1 5 10]
i 6
curSetRemove &[1 5]
i 3
curSetRemove &[1]
curSetAdd &[1 6]
idx 5
curSum 7
curSet &[1 6]
curSetAdd &[1 6 7]
idx 6
curSum 14
curSet &[1 6 7]
i 5
curSetRemove &[1 6]
curSetAdd &[1 6 10]
idx 7
curSum 17
curSet &[1 6 10]
i 6
curSetRemove &[1 6]
i 4
curSetRemove &[1]
curSetAdd &[1 7]
idx 6
curSum 8
curSet &[1 7]
subsets &[[1 1 6] [1 2 5] [1 7] [1 2 5] [1 7]]
i 5
curSetRemove &[1]
curSetAdd &[1 10]
idx 7
curSum 11
curSet &[1 10]
i 6
curSetRemove &[1]
i 1
curSetRemove &[]
curSetAdd &[2]
idx 3
curSum 2
curSet &[2]
curSetAdd &[2 5]
idx 4
curSum 7
curSet &[2 5]
curSetAdd &[2 5 6]
idx 5
curSum 13
curSet &[2 5 6]
i 4
curSetRemove &[2 5]
curSetAdd &[2 5 7]
idx 6
curSum 14
curSet &[2 5 7]
i 5
curSetRemove &[2 5]
curSetAdd &[2 5 10]
idx 7
curSum 17
curSet &[2 5 10]
i 6
curSetRemove &[2 5]
i 3
curSetRemove &[2]
curSetAdd &[2 6]
idx 5
curSum 8
curSet &[2 6]
subsets &[[1 1 6] [1 2 5] [1 7] [1 2 5] [1 7] [2 6]]
i 4
curSetRemove &[2]
curSetAdd &[2 7]
idx 6
curSum 9
curSet &[2 7]
i 5
curSetRemove &[2]
curSetAdd &[2 10]
idx 7
curSum 12
curSet &[2 10]
i 6
curSetRemove &[2]
i 2
curSetRemove &[]
curSetAdd &[5]
idx 4
curSum 5
curSet &[5]
curSetAdd &[5 6]
idx 5
curSum 11
curSet &[5 6]
i 4
curSetRemove &[5]
curSetAdd &[5 7]
idx 6
curSum 12
curSet &[5 7]
i 5
curSetRemove &[5]
curSetAdd &[5 10]
idx 7
curSum 15
curSet &[5 10]
i 6
curSetRemove &[5]
i 3
curSetRemove &[]
curSetAdd &[6]
idx 5
curSum 6
curSet &[6]
curSetAdd &[6 7]
idx 6
curSum 13
curSet &[6 7]
i 5
curSetRemove &[6]
curSetAdd &[6 10]
idx 7
curSum 16
curSet &[6 10]
i 6
curSetRemove &[6]
i 4
curSetRemove &[]
curSetAdd &[7]
idx 6
curSum 7
curSet &[7]
curSetAdd &[7 10]
idx 7
curSum 17
curSet &[7 10]
i 6
curSetRemove &[7]
i 5
curSetRemove &[]
curSetAdd &[10]
idx 7
curSum 10
curSet &[10]
i 6
curSetRemove &[]
[[1 1 6] [1 2 5] [1 7] [1 2 5] [1 7] [2 6]]

## Without Duplicates

idx 0
curSum 0
curSet &[]
curSetAdd &[1]
idx 1
curSum 1
curSet &[1]
curSetAdd &[1 1]
idx 2
curSum 2
curSet &[1 1]
curSetAdd &[1 1 2]
idx 3
curSum 4
curSet &[1 1 2]
curSetAdd &[1 1 2 5]
idx 4
curSum 9
curSet &[1 1 2 5]
i 3
curSetRemove &[1 1 2]
curSetAdd &[1 1 2 6]
idx 5
curSum 10
curSet &[1 1 2 6]
i 4
curSetRemove &[1 1 2]
curSetAdd &[1 1 2 7]
idx 6
curSum 11
curSet &[1 1 2 7]
i 5
curSetRemove &[1 1 2]
curSetAdd &[1 1 2 10]
idx 7
curSum 14
curSet &[1 1 2 10]
i 6
curSetRemove &[1 1 2]
i 2
curSetRemove &[1 1]
curSetAdd &[1 1 5]
idx 4
curSum 7
curSet &[1 1 5]
curSetAdd &[1 1 5 6]
idx 5
curSum 13
curSet &[1 1 5 6]
i 4
curSetRemove &[1 1 5]
curSetAdd &[1 1 5 7]
idx 6
curSum 14
curSet &[1 1 5 7]
i 5
curSetRemove &[1 1 5]
curSetAdd &[1 1 5 10]
idx 7
curSum 17
curSet &[1 1 5 10]
i 6
curSetRemove &[1 1 5]
i 3
curSetRemove &[1 1]
curSetAdd &[1 1 6]
idx 5
curSum 8
curSet &[1 1 6]
subsets &[[1 1 6]]
i 4
curSetRemove &[1 1]
curSetAdd &[1 1 7]
idx 6
curSum 9
curSet &[1 1 7]
i 5
curSetRemove &[1 1]
curSetAdd &[1 1 10]
idx 7
curSum 12
curSet &[1 1 10]
i 6
curSetRemove &[1 1]
i 1
curSetRemove &[1]
curSetAdd &[1 2]
idx 3
curSum 3
curSet &[1 2]
curSetAdd &[1 2 5]
idx 4
curSum 8
curSet &[1 2 5]
subsets &[[1 1 6] [1 2 5]]
i 3
curSetRemove &[1 2]
curSetAdd &[1 2 6]
idx 5
curSum 9
curSet &[1 2 6]
i 4
curSetRemove &[1 2]
curSetAdd &[1 2 7]
idx 6
curSum 10
curSet &[1 2 7]
i 5
curSetRemove &[1 2]
curSetAdd &[1 2 10]
idx 7
curSum 13
curSet &[1 2 10]
i 6
curSetRemove &[1 2]
i 2
curSetRemove &[1]
curSetAdd &[1 5]
idx 4
curSum 6
curSet &[1 5]
curSetAdd &[1 5 6]
idx 5
curSum 12
curSet &[1 5 6]
i 4
curSetRemove &[1 5]
curSetAdd &[1 5 7]
idx 6
curSum 13
curSet &[1 5 7]
i 5
curSetRemove &[1 5]
curSetAdd &[1 5 10]
idx 7
curSum 16
curSet &[1 5 10]
i 6
curSetRemove &[1 5]
i 3
curSetRemove &[1]
curSetAdd &[1 6]
idx 5
curSum 7
curSet &[1 6]
curSetAdd &[1 6 7]
idx 6
curSum 14
curSet &[1 6 7]
i 5
curSetRemove &[1 6]
curSetAdd &[1 6 10]
idx 7
curSum 17
curSet &[1 6 10]
i 6
curSetRemove &[1 6]
i 4
curSetRemove &[1]
curSetAdd &[1 7]
idx 6
curSum 8
curSet &[1 7]
subsets &[[1 1 6] [1 2 5] [1 7]]
i 5
curSetRemove &[1]
curSetAdd &[1 10]
idx 7
curSum 11
curSet &[1 10]
i 6
curSetRemove &[1]
i 0
curSetRemove &[]
i, idx, arr[i] 1 0 1
curSetAdd &[2]
idx 3
curSum 2
curSet &[2]
curSetAdd &[2 5]
idx 4
curSum 7
curSet &[2 5]
curSetAdd &[2 5 6]
idx 5
curSum 13
curSet &[2 5 6]
i 4
curSetRemove &[2 5]
curSetAdd &[2 5 7]
idx 6
curSum 14
curSet &[2 5 7]
i 5
curSetRemove &[2 5]
curSetAdd &[2 5 10]
idx 7
curSum 17
curSet &[2 5 10]
i 6
curSetRemove &[2 5]
i 3
curSetRemove &[2]
curSetAdd &[2 6]
idx 5
curSum 8
curSet &[2 6]
subsets &[[1 1 6] [1 2 5] [1 7] [2 6]]
i 4
curSetRemove &[2]
curSetAdd &[2 7]
idx 6
curSum 9
curSet &[2 7]
i 5
curSetRemove &[2]
curSetAdd &[2 10]
idx 7
curSum 12
curSet &[2 10]
i 6
curSetRemove &[2]
i 2
curSetRemove &[]
curSetAdd &[5]
idx 4
curSum 5
curSet &[5]
curSetAdd &[5 6]
idx 5
curSum 11
curSet &[5 6]
i 4
curSetRemove &[5]
curSetAdd &[5 7]
idx 6
curSum 12
curSet &[5 7]
i 5
curSetRemove &[5]
curSetAdd &[5 10]
idx 7
curSum 15
curSet &[5 10]
i 6
curSetRemove &[5]
i 3
curSetRemove &[]
curSetAdd &[6]
idx 5
curSum 6
curSet &[6]
curSetAdd &[6 7]
idx 6
curSum 13
curSet &[6 7]
i 5
curSetRemove &[6]
curSetAdd &[6 10]
idx 7
curSum 16
curSet &[6 10]
i 6
curSetRemove &[6]
i 4
curSetRemove &[]
curSetAdd &[7]
idx 6
curSum 7
curSet &[7]
curSetAdd &[7 10]
idx 7
curSum 17
curSet &[7 10]
i 6
curSetRemove &[7]
i 5
curSetRemove &[]
curSetAdd &[10]
idx 7
curSum 10
curSet &[10]
i 6
curSetRemove &[]
[[1 1 6] [1 2 5] [1 7] [2 6]]


package main

import (
	"fmt"
	"sort"
)

func combinationSum2(arr []int, target int) [][]int {
	sort.Ints(arr)
	curSet := make([]int, 0)
	subsets := make([][]int, 0)

	if len(arr) == 0 {
		return subsets
	}

	helper(0, 0, arr, target, &curSet, &subsets)
	return subsets
}

func helper(idx, curSum int, arr []int, target int, curSet *[]int, subsets *[][]int) {
	fmt.Println("idx", idx)
	fmt.Println("curSum", curSum)
	fmt.Println("curSet", curSet)
	if curSum == target {
		*subsets = append(*subsets, append([]int{}, *curSet...))
		fmt.Println("subsets", subsets)
		return
	}
	if curSum > target {
		return
	}

	for i := idx; i < len(arr); i++ {
		if i > idx && arr[i] == arr[i-1] {
			fmt.Println("i, idx, arr[i]", i, idx, arr[i])
			continue
		}
		*curSet = append(*curSet, arr[i])
		fmt.Println("curSetAdd", curSet)
		helper(i+1, curSum+arr[i], arr, target, curSet, subsets)
		fmt.Println("i", i)
		*curSet = (*curSet)[:len(*curSet)-1]
		fmt.Println("curSetRemove", curSet)
	}
}

func main() {
	arr := []int{10, 1, 2, 7, 6, 1, 5}
	target := 8
	fmt.Println(combinationSum2(arr, target))
}
